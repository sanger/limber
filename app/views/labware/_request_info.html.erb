<%# Renders the current request in context. %>
<%#
Create the general effect of square boxes queued in a row with distinctive colours and symbols for each request type
 %>

<div class="mt-3 mx-3">
  <%#
    for [request_name, request_state]: count in the hash @request_info.grouped_active_requests
    render using content_tag the html: <span class="badge text-bg-primary">[request_name: request_state | count]</span>
   %>
   <%= @request_info.grouped_active_requests.map do |(request_name, request_state), count|
     content_tag :span, class: "badge state-badge fw-bold #{request_state.to_s.downcase}" do
     "#{request_name} Â· #{count} #{request_state}"
     end
   end.join(' ').html_safe %>

  <% if @labware.for_multiplexing%>
    <%= content_tag :span, 'MX', class: 'text-muted fw-bold' %>
  <% end %>
</div>
